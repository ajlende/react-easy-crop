(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("ERkP")},function(module,exports){module.exports=storybook_docs_dll},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("1t7P")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("IAdD")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("ho0z")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("+KXO")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("jQ/y")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("7x/C")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("M+/F")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("vrRf")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("plBw")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("87if")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("z84I")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("DZ+c")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("lTEL")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("kYxP")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("2G9S")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("aLgo")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("cARO")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("KqXw")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("hCOa")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("NyMY")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("UvmB")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("EgRP")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("yH/f")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("aokA")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("jwue")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("+oxZ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("lN5B")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("LW0h")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("A3UQ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("MvUL")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("7xRU")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("Ysgh")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("KOtZ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("1Iuc")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("P2aG")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("jQ3i")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("ZVkB")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("x4t0")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("y2Ah")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("WNMA")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("Yct5")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("1IsZ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("hBpG")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("vbDw")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("JtPf")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("tVqn")},,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("3yYM")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("5o43")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("DfhM")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("LJOr")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("pu3o")},,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__.p+"static/media/test.b4ac4d5b.png"},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("LqLs")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("3voH")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("6U7i")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("Cm4o")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("j4Sf")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("LUwd")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("OZaJ")},,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("+kY7")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("5878")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("Kkar")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("m9LP")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("7nmT")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("l1C2")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("sVFb")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("iKE+")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("CUMQ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("mlET")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("f9bD")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("b2e3")},,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){__webpack_require__(182),__webpack_require__(207),__webpack_require__(208),__webpack_require__(253),__webpack_require__(380),__webpack_require__(415),__webpack_require__(427),__webpack_require__(429),__webpack_require__(432),__webpack_require__(435),module.exports=__webpack_require__(440)},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("ARua")},,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("gqY9")},,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("9JhN")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("PjZX")},,,,,,,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);__webpack_require__(125)},,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("/Qos")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("JY+C")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("ZUdG")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("tQbP")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("//nZ")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("wFLD")},,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("ax0f")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("dSaG")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("hQin")},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("LJ7e")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("I2fK")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("DY47")},,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("3kp9")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("/bc2")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("/JuR")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("+Bxv")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("muFx")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("Wci6")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("WoRU")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("o3fS")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("JmTi")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("xaiR")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("SlD/")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("Monn")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("fmNP")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("uFXj")},,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("V0IW")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("OCSl")},,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("jLkM")},,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("kA4r")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("Blm6")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("ssvU")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("lZm3")},,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("Ee2X")},,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("5BYb")},,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("maj8")},,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("F63i")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("aWzz")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("kvVz")},,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("2q8g")},function(module,exports,__webpack_require__){module.exports=__webpack_require__(1)("nDih")},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(module,exports,__webpack_require__){"use strict";(function(module){(0,__webpack_require__(125).configure)([__webpack_require__(441)],module,!1)}).call(this,__webpack_require__(50)(module))},function(module,exports,__webpack_require__){var map={"./Cropper/Cropper.stories.tsx":445,"./RECropper/RECropper.stories.tsx":446};function webpackContext(req){var id=webpackContextResolve(req);return __webpack_require__(id)}function webpackContextResolve(req){if(!__webpack_require__.o(map,req)){var e=new Error("Cannot find module '"+req+"'");throw e.code="MODULE_NOT_FOUND",e}return map[req]}webpackContext.keys=function webpackContextKeys(){return Object.keys(map)},webpackContext.resolve=webpackContextResolve,module.exports=webpackContext,webpackContext.id=441},function(module,exports,__webpack_require__){},function(module,exports,__webpack_require__){},,function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__default",(function(){return Cropper_stories_default}));var objectSpread2=__webpack_require__(63),slicedToArray=__webpack_require__(71),delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(0),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),dist=__webpack_require__(45);function getScaleAdjust(_ref){var container=_ref.container,media=_ref.media,rotationDeg=_ref.rotation,containerRect=container.getBoundingClientRect(),w=containerRect.width,h=containerRect.height,a=media.naturalWidth/media.naturalHeight,x=Math.abs((rotationDeg+90)%180-90)*(Math.PI/180);return(x<-Math.atan((a*h-w)/(a*w-h))?h*Math.sin(x)+w*Math.cos(x):a*(w*Math.sin(x)+h*Math.cos(x)))/containerRect.width}__webpack_require__(442);function Cropper_Cropper(_ref){var image=_ref.image,rotation=_ref.rotation,zoom=_ref.zoom,aspect=_ref.aspect,offset=_ref.offset,containerRef=Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useRef)(null),mediaRef=Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useRef)(null),_useState=Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useState)(1),_useState2=Object(slicedToArray.a)(_useState,2),scaleAdjust=_useState2[0],setScaleAdjust=_useState2[1];Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useLayoutEffect)((function(){containerRef.current&&mediaRef.current&&setScaleAdjust(getScaleAdjust({container:containerRef.current,media:mediaRef.current,rotation:rotation}))}),[rotation,aspect]);var transform=["translate(".concat(offset.x,"px, ").concat(offset.y,"px)"),"rotate(".concat(rotation,"deg)"),"scale(".concat(zoom*scaleAdjust,")")].join(" ");return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"crop-container"},image&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("img",{alt:"",src:image,className:"crop-media",style:{transform:transform},ref:mediaRef,onLoad:function onMediaLoaded(){containerRef.current&&mediaRef.current&&setScaleAdjust(getScaleAdjust({container:containerRef.current,media:mediaRef.current,rotation:rotation}))}}),delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{style:{position:"absolute",width:"100%",height:"auto",paddingTop:"".concat(100*aspect,"%")},ref:containerRef},delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{className:"grid-thirds"})))}var src_Cropper_Cropper=Cropper_Cropper;try{Cropper_Cropper.displayName="Cropper",Cropper_Cropper.__docgenInfo={description:"",displayName:"Cropper",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},crop:{defaultValue:null,description:"",name:"crop",required:!0,type:{name:"Point"}},offset:{defaultValue:null,description:"",name:"offset",required:!0,type:{name:"Point"}},cropSize:{defaultValue:null,description:"",name:"cropSize",required:!0,type:{name:"Size"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!0,type:{name:"number"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!0,type:{name:"number"}},aspect:{defaultValue:null,description:"",name:"aspect",required:!0,type:{name:"number"}},onCropComplete:{defaultValue:null,description:"",name:"onCropComplete",required:!0,type:{name:"(...rest: any[]) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Cropper/Cropper.tsx#Cropper"]={docgenInfo:Cropper_Cropper.__docgenInfo,name:"Cropper",path:"src/Cropper/Cropper.tsx#Cropper"})}catch(__react_docgen_typescript_loader_error){}try{Cropper_Cropper.displayName="Cropper",Cropper_Cropper.__docgenInfo={description:"",displayName:"Cropper",props:{image:{defaultValue:null,description:"",name:"image",required:!0,type:{name:"string"}},crop:{defaultValue:null,description:"",name:"crop",required:!0,type:{name:"Point"}},offset:{defaultValue:null,description:"",name:"offset",required:!0,type:{name:"Point"}},cropSize:{defaultValue:null,description:"",name:"cropSize",required:!0,type:{name:"Size"}},zoom:{defaultValue:null,description:"",name:"zoom",required:!0,type:{name:"number"}},rotation:{defaultValue:null,description:"",name:"rotation",required:!0,type:{name:"number"}},aspect:{defaultValue:null,description:"",name:"aspect",required:!0,type:{name:"number"}},onCropComplete:{defaultValue:null,description:"",name:"onCropComplete",required:!0,type:{name:"(...rest: any[]) => any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Cropper/Cropper.tsx#Cropper"]={docgenInfo:Cropper_Cropper.__docgenInfo,name:"Cropper",path:"src/Cropper/Cropper.tsx#Cropper"})}catch(__react_docgen_typescript_loader_error){}var test=__webpack_require__(89),test_default=__webpack_require__.n(test),__defaultArgs=(__webpack_exports__.default={parameters:{storySource:{source:'import React, { useState } from "react"\nimport { action } from "@storybook/addon-actions"\n\nimport Cropper from "."\n\nimport testImg from "../stories/static/test.png"\n\nexport default {\n\ttitle: "Cropper",\n\tcomponent: Cropper,\n\targTypes: {\n\t\tzoom: {\n\t\t\tcontrol: {\n\t\t\t\ttype: "range",\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 3,\n\t\t\t\tstep: 0.1,\n\t\t\t},\n\t\t},\n\t\tskew: {\n\t\t\tcontrol: {\n\t\t\t\ttype: "range",\n\t\t\t\tmin: -45,\n\t\t\t\tmax: 45,\n\t\t\t\tstep: 1,\n\t\t\t},\n\t\t},\n\t\trotation: {\n\t\t\tcontrol: {\n\t\t\t\ttype: "range",\n\t\t\t\tmin: -180,\n\t\t\t\tmax: 180,\n\t\t\t\tstep: 90,\n\t\t\t},\n\t\t},\n\t\taspect: {\n\t\t\tcontrol: {\n\t\t\t\ttype: "select",\n\t\t\t\toptions: {\n\t\t\t\t\t"4:3": 4 / 3,\n\t\t\t\t\t"3:4": 3 / 4,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tcrop: { table: { disable: true } },\n\t\tcropSize: { table: { disable: true } },\n\t\tonCropComplete: { table: { disable: true } },\n\t},\n}\n\nconst __defaultArgs = {\n\tzoom: 1,\n\tskew: 0,\n\trotation: 0,\n\taspect: 3 / 4,\n\timage: testImg,\n\toffset: { x: 0, y: 0 },\n\tflipHorizontal: false,\n\tflipVertical: false,\n}\nexport const __default = (args: any) => {\n\tconst [crop] = useState({ x: 0, y: 0 })\n\tconst [cropSize] = useState({ width: 1, height: 1 })\n\n\treturn (\n\t\t<Cropper\n\t\t\t{...args}\n\t\t\tcrop={crop}\n\t\t\tcropSize={cropSize}\n\t\t\trotation={args.rotation + args.skew}\n\t\t\tonCropComplete={action("onCropComplete")}\n\t\t/>\n\t)\n}\n__default.args = __defaultArgs\n',locationsMap:{default:{startLoc:{col:25,line:61},endLoc:{col:1,line:74},startBody:{col:25,line:61},endBody:{col:1,line:74}}}}},title:"Cropper",component:src_Cropper_Cropper,argTypes:{zoom:{control:{type:"range",min:1,max:3,step:.1}},skew:{control:{type:"range",min:-45,max:45,step:1}},rotation:{control:{type:"range",min:-180,max:180,step:90}},aspect:{control:{type:"select",options:{"4:3":4/3,"3:4":3/4}}},crop:{table:{disable:!0}},cropSize:{table:{disable:!0}},onCropComplete:{table:{disable:!0}}}},{zoom:1,skew:0,rotation:0,aspect:3/4,image:test_default.a,offset:{x:0,y:0},flipHorizontal:!1,flipVertical:!1}),Cropper_stories_default=function __default(args){var _useState=Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useState)({x:0,y:0}),crop=Object(slicedToArray.a)(_useState,1)[0],_useState3=Object(delegated_reactfrom_dll_reference_storybook_docs_dll.useState)({width:1,height:1}),cropSize=Object(slicedToArray.a)(_useState3,1)[0];return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(src_Cropper_Cropper,Object.assign({},args,{crop:crop,cropSize:cropSize,rotation:args.rotation+args.skew,onCropComplete:Object(dist.action)("onCropComplete")}))};Cropper_stories_default.args=__defaultArgs,Cropper_stories_default.parameters=Object(objectSpread2.a)({storySource:{source:'(args: any) => {\n\tconst [crop] = useState({ x: 0, y: 0 })\n\tconst [cropSize] = useState({ width: 1, height: 1 })\n\n\treturn (\n\t\t<Cropper\n\t\t\t{...args}\n\t\t\tcrop={crop}\n\t\t\tcropSize={cropSize}\n\t\t\trotation={args.rotation + args.skew}\n\t\t\tonCropComplete={action("onCropComplete")}\n\t\t/>\n\t)\n}'}},Cropper_stories_default.parameters);try{Cropper_stories_default.displayName="__default",Cropper_stories_default.__docgenInfo={description:"",displayName:"__default",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Cropper/Cropper.stories.tsx#__default"]={docgenInfo:Cropper_stories_default.__docgenInfo,name:"__default",path:"src/Cropper/Cropper.stories.tsx#__default"})}catch(__react_docgen_typescript_loader_error){}try{Cropper_stories_default.displayName="__default",Cropper_stories_default.__docgenInfo={description:"",displayName:"__default",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/Cropper/Cropper.stories.tsx#__default"]={docgenInfo:Cropper_stories_default.__docgenInfo,name:"__default",path:"src/Cropper/Cropper.stories.tsx#__default"})}catch(__react_docgen_typescript_loader_error){}},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,"__default",(function(){return RECropper_stories_default}));var objectSpread2=__webpack_require__(63),delegated_reactfrom_dll_reference_storybook_docs_dll=__webpack_require__(0),delegated_reactfrom_dll_reference_storybook_docs_dll_default=__webpack_require__.n(delegated_reactfrom_dll_reference_storybook_docs_dll),dist=__webpack_require__(45),classCallCheck=__webpack_require__(177),createClass=__webpack_require__(178),createSuper=__webpack_require__(179),inherits=__webpack_require__(180),toConsumableArray=__webpack_require__(72);function getCropSize(mediaWidth,mediaHeight,containerWidth,containerHeight,aspect){var rotation=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,_translateSize=translateSize(mediaWidth,mediaHeight,rotation),width=_translateSize.width,height=_translateSize.height,fittingWidth=Math.min(width,containerWidth),fittingHeight=Math.min(height,containerHeight);return fittingWidth>fittingHeight*aspect?{width:fittingHeight*aspect,height:fittingHeight}:{width:fittingWidth,height:fittingWidth/aspect}}function computeCroppedArea(crop,mediaSize,cropSize,aspect,zoom){var rotation=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,restrictPosition=!(arguments.length>6&&void 0!==arguments[6])||arguments[6],limitAreaFn=restrictPosition&&0===rotation?limitArea:noOp,croppedAreaPercentages={x:limitAreaFn(100,((mediaSize.width-cropSize.width/zoom)/2-crop.x/zoom)/mediaSize.width*100),y:limitAreaFn(100,((mediaSize.height-cropSize.height/zoom)/2-crop.y/zoom)/mediaSize.height*100),width:limitAreaFn(100,cropSize.width/mediaSize.width*100/zoom),height:limitAreaFn(100,cropSize.height/mediaSize.height*100/zoom)},widthInPixels=Math.round(limitAreaFn(mediaSize.naturalWidth,croppedAreaPercentages.width*mediaSize.naturalWidth/100)),heightInPixels=Math.round(limitAreaFn(mediaSize.naturalHeight,croppedAreaPercentages.height*mediaSize.naturalHeight/100)),isImgWiderThanHigh=mediaSize.naturalWidth>=mediaSize.naturalHeight*aspect,sizePixels=isImgWiderThanHigh?{width:Math.round(heightInPixels*aspect),height:heightInPixels}:{width:widthInPixels,height:Math.round(widthInPixels/aspect)},croppedAreaPixels=Object(objectSpread2.a)({},sizePixels,{x:Math.round(limitAreaFn(mediaSize.naturalWidth-sizePixels.width,croppedAreaPercentages.x*mediaSize.naturalWidth/100)),y:Math.round(limitAreaFn(mediaSize.naturalHeight-sizePixels.height,croppedAreaPercentages.y*mediaSize.naturalHeight/100))});return{croppedAreaPercentages:croppedAreaPercentages,croppedAreaPixels:croppedAreaPixels}}function limitArea(max,value){return Math.min(max,Math.max(0,value))}function noOp(_max,value){return value}function rotateAroundMidPoint(x,y,xMid,yMid,degrees){var cos=Math.cos,sin=Math.sin,radian=degrees*Math.PI/180;return[(x-xMid)*cos(radian)-(y-yMid)*sin(radian)+xMid,(x-xMid)*sin(radian)+(y-yMid)*cos(radian)+yMid]}function translateSize(width,height,rotation){var centerX=width/2,centerY=height/2,outerBounds=[rotateAroundMidPoint(0,0,centerX,centerY,rotation),rotateAroundMidPoint(width,0,centerX,centerY,rotation),rotateAroundMidPoint(width,height,centerX,centerY,rotation),rotateAroundMidPoint(0,height,centerX,centerY,rotation)],minX=Math.min.apply(Math,Object(toConsumableArray.a)(outerBounds.map((function(p){return p[0]})))),maxX=Math.max.apply(Math,Object(toConsumableArray.a)(outerBounds.map((function(p){return p[0]})))),minY=Math.min.apply(Math,Object(toConsumableArray.a)(outerBounds.map((function(p){return p[1]}))));return{width:maxX-minX,height:Math.max.apply(Math,Object(toConsumableArray.a)(outerBounds.map((function(p){return p[1]}))))-minY}}function classNames(){for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return args.filter((function(value){return"string"==typeof value&&value.length>0})).join(" ").trim()}__webpack_require__(443);var RECropper_Cropper=function(_React$Component){Object(inherits.a)(Cropper,_React$Component);var _super=Object(createSuper.a)(Cropper);function Cropper(){var _this;Object(classCallCheck.a)(this,Cropper);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return(_this=_super.call.apply(_super,[this].concat(args))).imageRef=null,_this.containerRef=null,_this.containerRect=null,_this.mediaSize={width:0,height:0,naturalWidth:0,naturalHeight:0},_this.state={cropSize:null},_this.onMediaLoad=function(){_this.computeSizes(),_this.emitCropData()},_this.computeSizes=function(){if(_this.imageRef&&_this.containerRef){var _this$imageRef,_this$imageRef2;_this.containerRect=_this.containerRef.getBoundingClientRect(),_this.mediaSize={width:_this.imageRef.offsetWidth,height:_this.imageRef.offsetHeight,naturalWidth:(null===(_this$imageRef=_this.imageRef)||void 0===_this$imageRef?void 0:_this$imageRef.naturalWidth)||0,naturalHeight:(null===(_this$imageRef2=_this.imageRef)||void 0===_this$imageRef2?void 0:_this$imageRef2.naturalHeight)||0};var cropSize=getCropSize(_this.imageRef.offsetWidth,_this.imageRef.offsetHeight,_this.containerRect.width,_this.containerRect.height,_this.props.aspect,_this.props.rotation);_this.setState({cropSize:cropSize},_this.recomputeCropPosition)}},_this.emitCropData=function(){if(_this.state.cropSize){var croppedAreaPercentages=computeCroppedArea(_this.props.crop,_this.mediaSize,_this.state.cropSize,_this.props.aspect,_this.props.zoom,_this.props.rotation,!1).croppedAreaPercentages;console.log(croppedAreaPercentages)}},_this.recomputeCropPosition=function(){_this.state.cropSize&&_this.emitCropData()},_this}return Object(createClass.a)(Cropper,[{key:"componentDidMount",value:function componentDidMount(){window.addEventListener("resize",this.computeSizes)}},{key:"componentWillUnmount",value:function componentWillUnmount(){window.removeEventListener("resize",this.computeSizes)}},{key:"componentDidUpdate",value:function componentDidUpdate(prevProps){prevProps.rotation!==this.props.rotation?(this.computeSizes(),this.recomputeCropPosition()):prevProps.aspect!==this.props.aspect?this.computeSizes():prevProps.zoom!==this.props.zoom&&this.recomputeCropPosition()}},{key:"render",value:function render(){var _this2=this,_this$props=this.props,image=_this$props.image,crop=_this$props.crop,rotation=_this$props.rotation,zoom=_this$props.zoom,transform=["translate(".concat(crop.x,"px, ").concat(crop.y,"px)"),"rotate(".concat(rotation,"deg)"),"scale(".concat(zoom,")")].join(" ");return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{ref:function ref(el){return _this2.containerRef=el},className:"reactEasyCrop_Container"},image&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("img",{alt:"",className:"reactEasyCrop_Image",src:image,ref:function ref(el){return _this2.imageRef=el},style:{transform:transform},onLoad:this.onMediaLoad}),this.state.cropSize&&delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement("div",{style:{width:this.state.cropSize.width,height:this.state.cropSize.height},className:classNames("reactEasyCrop_CropArea","reactEasyCrop_CropAreaGrid")}))}}]),Cropper}(delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.Component);RECropper_Cropper.defaultProps={zoom:1,rotation:0,aspect:4/3};var RECropper=RECropper_Cropper;try{RECropper_Cropper.displayName="Cropper",RECropper_Cropper.__docgenInfo={description:"",displayName:"Cropper",props:{image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"string"}},crop:{defaultValue:null,description:"",name:"crop",required:!0,type:{name:"Point"}},zoom:{defaultValue:{value:1},description:"",name:"zoom",required:!1,type:{name:"number"}},rotation:{defaultValue:{value:0},description:"",name:"rotation",required:!1,type:{name:"number"}},aspect:{defaultValue:{value:"4 / 3"},description:"",name:"aspect",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/RECropper/index.tsx#Cropper"]={docgenInfo:RECropper_Cropper.__docgenInfo,name:"Cropper",path:"src/RECropper/index.tsx#Cropper"})}catch(__react_docgen_typescript_loader_error){}try{RECropper_Cropper.displayName="Cropper",RECropper_Cropper.__docgenInfo={description:"",displayName:"Cropper",props:{image:{defaultValue:null,description:"",name:"image",required:!1,type:{name:"string"}},crop:{defaultValue:null,description:"",name:"crop",required:!0,type:{name:"Point"}},zoom:{defaultValue:{value:1},description:"",name:"zoom",required:!1,type:{name:"number"}},rotation:{defaultValue:{value:0},description:"",name:"rotation",required:!1,type:{name:"number"}},aspect:{defaultValue:{value:"4 / 3"},description:"",name:"aspect",required:!1,type:{name:"number"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/RECropper/index.tsx#Cropper"]={docgenInfo:RECropper_Cropper.__docgenInfo,name:"Cropper",path:"src/RECropper/index.tsx#Cropper"})}catch(__react_docgen_typescript_loader_error){}var test=__webpack_require__(89),test_default=__webpack_require__.n(test),__defaultArgs=(__webpack_exports__.default={parameters:{storySource:{source:'import React, { useState } from "react"\nimport { action } from "@storybook/addon-actions"\n\nimport RECropper from "."\n\nimport testImg from "../stories/static/test.png"\n\nexport default {\n\ttitle: "React Easy Crop",\n\tcomponent: RECropper,\n\targTypes: {\n\t\tzoom: {\n\t\t\tcontrol: {\n\t\t\t\ttype: "range",\n\t\t\t\tmin: 1,\n\t\t\t\tmax: 3,\n\t\t\t\tstep: 0.1,\n\t\t\t},\n\t\t},\n\t\tskew: {\n\t\t\tcontrol: {\n\t\t\t\ttype: "range",\n\t\t\t\tmin: -45,\n\t\t\t\tmax: 45,\n\t\t\t\tstep: 1,\n\t\t\t},\n\t\t},\n\t\trotation: {\n\t\t\tcontrol: {\n\t\t\t\ttype: "range",\n\t\t\t\tmin: -180,\n\t\t\t\tmax: 180,\n\t\t\t\tstep: 90,\n\t\t\t},\n\t\t},\n\t\taspect: {\n\t\t\tcontrol: {\n\t\t\t\ttype: "select",\n\t\t\t\toptions: {\n\t\t\t\t\t"4:3": 4 / 3,\n\t\t\t\t\t"3:4": 3 / 4,\n\t\t\t\t},\n\t\t\t},\n\t\t},\n\t\tvideo: { table: { disable: true } },\n\t\ttransform: { table: { disable: true } },\n\t\tminZoom: { table: { disable: true } },\n\t\tmaxZoom: { table: { disable: true } },\n\t\tcropShape: { table: { disable: true } },\n\t\tcropSize: { table: { disable: true } },\n\t\tshowGrid: { table: { disable: true } },\n\t\tzoomSpeed: { table: { disable: true } },\n\t\tzoomWithScroll: { table: { disable: true } },\n\t\tonCropChange: { table: { disable: true } },\n\t\tonZoomChange: { table: { disable: true } },\n\t\tonRotationChange: { table: { disable: true } },\n\t\tonCropComplete: { table: { disable: true } },\n\t\tonInteractionStart: { table: { disable: true } },\n\t\tonInteractionEnd: { table: { disable: true } },\n\t\tonMediaLoaded: { table: { disable: true } },\n\t\tstyle: { table: { disable: true } },\n\t\tclasses: { table: { disable: true } },\n\t\trestrictPosition: { table: { disable: true } },\n\t\tinitialCroppedAreaPixels: { table: { disable: true } },\n\t\tmediaProps: { table: { disable: true } },\n\t\tdisableAutomaticStylesInjection: { table: { disable: true } },\n\t},\n}\n\nconst __defaultArgs = {\n\tzoom: 1,\n\tskew: 0,\n\trotation: 0,\n\taspect: 3 / 4,\n\timage: testImg,\n\tcrop: { x: 0, y: 0 },\n\tflipHorizontal: false,\n\tflipVertical: false,\n}\nexport const __default = (args: any) => {\n\treturn (\n\t\t<RECropper\n\t\t\t{...args}\n\t\t\trotation={args.rotation + args.skew}\n\t\t\tonCropChange={() => {}}\n\t\t\tonZoomChange={() => {}}\n\t\t\tonRotationChange={action("onRotationChange")}\n\t\t\tonCropComplete={action("onCropComplete")}\n\t\t\tonInteractionStart={action("onInteractionStart")}\n\t\t\tonInteractionEnd={action("onInteractionEnd")}\n\t\t\tonMediaLoaded={action("onMediaLoaded")}\n\t\t/>\n\t)\n}\n__default.args = __defaultArgs\n',locationsMap:{default:{startLoc:{col:25,line:80},endLoc:{col:1,line:94},startBody:{col:25,line:80},endBody:{col:1,line:94}}}}},title:"React Easy Crop",component:RECropper,argTypes:{zoom:{control:{type:"range",min:1,max:3,step:.1}},skew:{control:{type:"range",min:-45,max:45,step:1}},rotation:{control:{type:"range",min:-180,max:180,step:90}},aspect:{control:{type:"select",options:{"4:3":4/3,"3:4":3/4}}},video:{table:{disable:!0}},transform:{table:{disable:!0}},minZoom:{table:{disable:!0}},maxZoom:{table:{disable:!0}},cropShape:{table:{disable:!0}},cropSize:{table:{disable:!0}},showGrid:{table:{disable:!0}},zoomSpeed:{table:{disable:!0}},zoomWithScroll:{table:{disable:!0}},onCropChange:{table:{disable:!0}},onZoomChange:{table:{disable:!0}},onRotationChange:{table:{disable:!0}},onCropComplete:{table:{disable:!0}},onInteractionStart:{table:{disable:!0}},onInteractionEnd:{table:{disable:!0}},onMediaLoaded:{table:{disable:!0}},style:{table:{disable:!0}},classes:{table:{disable:!0}},restrictPosition:{table:{disable:!0}},initialCroppedAreaPixels:{table:{disable:!0}},mediaProps:{table:{disable:!0}},disableAutomaticStylesInjection:{table:{disable:!0}}}},{zoom:1,skew:0,rotation:0,aspect:3/4,image:test_default.a,crop:{x:0,y:0},flipHorizontal:!1,flipVertical:!1}),RECropper_stories_default=function __default(args){return delegated_reactfrom_dll_reference_storybook_docs_dll_default.a.createElement(RECropper,Object.assign({},args,{rotation:args.rotation+args.skew,onCropChange:function onCropChange(){},onZoomChange:function onZoomChange(){},onRotationChange:Object(dist.action)("onRotationChange"),onCropComplete:Object(dist.action)("onCropComplete"),onInteractionStart:Object(dist.action)("onInteractionStart"),onInteractionEnd:Object(dist.action)("onInteractionEnd"),onMediaLoaded:Object(dist.action)("onMediaLoaded")}))};RECropper_stories_default.args=__defaultArgs,RECropper_stories_default.parameters=Object(objectSpread2.a)({storySource:{source:'(args: any) => {\n\treturn (\n\t\t<RECropper\n\t\t\t{...args}\n\t\t\trotation={args.rotation + args.skew}\n\t\t\tonCropChange={() => {}}\n\t\t\tonZoomChange={() => {}}\n\t\t\tonRotationChange={action("onRotationChange")}\n\t\t\tonCropComplete={action("onCropComplete")}\n\t\t\tonInteractionStart={action("onInteractionStart")}\n\t\t\tonInteractionEnd={action("onInteractionEnd")}\n\t\t\tonMediaLoaded={action("onMediaLoaded")}\n\t\t/>\n\t)\n}'}},RECropper_stories_default.parameters);try{RECropper_stories_default.displayName="__default",RECropper_stories_default.__docgenInfo={description:"",displayName:"__default",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/RECropper/RECropper.stories.tsx#__default"]={docgenInfo:RECropper_stories_default.__docgenInfo,name:"__default",path:"src/RECropper/RECropper.stories.tsx#__default"})}catch(__react_docgen_typescript_loader_error){}try{RECropper_stories_default.displayName="__default",RECropper_stories_default.__docgenInfo={description:"",displayName:"__default",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/RECropper/RECropper.stories.tsx#__default"]={docgenInfo:RECropper_stories_default.__docgenInfo,name:"__default",path:"src/RECropper/RECropper.stories.tsx#__default"})}catch(__react_docgen_typescript_loader_error){}}],[[181,1,2]]]);
//# sourceMappingURL=main.38d61605a59f7f62b9fb.bundle.js.map